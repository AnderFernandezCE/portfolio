---
import Section from '@/components/Section.astro'
import Primary from '../buttons/Primary.astro'
import Secondary_button from '../buttons/Secondary_button.astro'
import Send from '@/icons/Send.astro'
import Copy from '@/icons/Copy.astro'

import MailIcon from '@/icons/MailIcon.astro'
---
<Section title="ContÃ¡ctame" id="contact">
  <MailIcon slot='section-svg'/>
  <div>
    <input type="text" disabled value="anderfernandez.ce@gmail.com">
    <div class="buttons-container">
      <Primary classname="button small_round" href="mailto:anderfernandez.ce@gmail.com">
        <Send/>
      </Primary>
    <Secondary_button classname="button copy-button">
      <Copy/>
    </Secondary_button>
    </div>
    
  </div>
</Section>

<style>
  div{
    display: grid;
    grid-template-columns: 1fr;
  }
  input{
    background-color: #2A2A2C;
    border-radius: 5px;
    border: 1px solid #555555;
    padding: 0 5px;
    display: flex;
    justify-content: center;
    align-items: center;
    color: white;
    /* grid-column:1/4; */
    height: 35px;
    font-size: 14px;
  }
  .buttons-container{
    display: flex;
    width: 100%;
    height: 100%;
    justify-content: space-between;
    align-items: center;
    gap: 20px;
  }
  .button {
    height: 40px;
    margin-top: 20px;
    width: 100%;
  }
  .small_round{
    border-radius: 5px;
  }

  @media (width >= 700px) {
    div{
      grid-template-columns: 1fr 1fr;
      align-items: center;
      gap: 20px;
    }
    .button {
      margin:0;
      height: 50px;
    }
    input{
      height: 50px;
      font-size: 18px;
    }
  }
 
</style>

<script>
  const button = document.querySelector(".copy-button")
  button.addEventListener('click', cpEmail)

  async function cpEmail(){
    try{
      await navigator.clipboard.writeText("anderfernandez.ce@gmail.com")
    }
    catch (err){
      console.error(err)
    }
  }
</script>